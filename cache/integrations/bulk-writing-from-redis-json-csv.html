<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cache/integrations/bulk-writing-from-redis-json-csv" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Bulk data writing Redis, CSV, and JSON into Momento Cache | Momento Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.momentohq.com/cache/integrations/bulk-writing-from-redis-json-csv"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Bulk data writing Redis, CSV, and JSON into Momento Cache | Momento Docs"><meta data-rh="true" name="description" content="Learn to migrate heaps of data into Momento Cache smoothly."><meta data-rh="true" property="og:description" content="Learn to migrate heaps of data into Momento Cache smoothly."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.momentohq.com/cache/integrations/bulk-writing-from-redis-json-csv"><link data-rh="true" rel="alternate" href="https://docs.momentohq.com/cache/integrations/bulk-writing-from-redis-json-csv" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.momentohq.com/ja/cache/integrations/bulk-writing-from-redis-json-csv" hreflang="ja"><link data-rh="true" rel="alternate" href="https://docs.momentohq.com/cache/integrations/bulk-writing-from-redis-json-csv" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3P10N8HW6D-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Bulk data writing","item":"https://docs.momentohq.com/cache/integrations/bulk-writing-from-redis-json-csv"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Momento Docs" href="/opensearch.xml">

<link rel="stylesheet" href="/stylex.css">
<!-- Google Tag Manager -->
    <script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-THBDHDQ",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><link rel="stylesheet" href="/assets/css/styles.151e50d0.css">
<script src="/assets/js/runtime~main.3714c4e1.js" defer="defer"></script>
<script src="/assets/js/main.07652c2f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/momento-docs-logo-forest.svg" alt="Momento Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/momento-docs-logo-white.svg" alt="Momento Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cache">Cache</a><a class="navbar__item navbar__link" href="/topics">Topics</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/platform">Platform</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/cache/integrations/bulk-writing-from-redis-json-csv" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/ja/cache/integrations/bulk-writing-from-redis-json-csv" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cache"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cache/getting-started"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/cache/integrations/redis-client-compatibility"><span title="Integrations" class="categoryLinkLabel_W154">Integrations</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/redis-client-compatibility"><span title="Redis compatibility clients" class="linkLabel_WmDU">Redis compatibility clients</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/momento-cache-laravel-php"><span title="Laravel" class="linkLabel_WmDU">Laravel</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/aws-secrets-manager"><span title="AWS Secrets Manager" class="linkLabel_WmDU">AWS Secrets Manager</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cache/integrations/bulk-writing-from-redis-json-csv"><span title="Bulk data writing" class="linkLabel_WmDU">Bulk data writing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/netlify-integration"><span title="Netlify" class="linkLabel_WmDU">Netlify</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/sequelize"><span title="Sequelize" class="linkLabel_WmDU">Sequelize</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/vercel-integration"><span title="Vercel" class="linkLabel_WmDU">Vercel</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/cloudflare"><span title="Cloudflare" class="linkLabel_WmDU">Cloudflare</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/unity-integration"><span title="Unity" class="linkLabel_WmDU">Unity</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/fastly"><span title="Fastly" class="linkLabel_WmDU">Fastly</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/deno"><span title="Deno" class="linkLabel_WmDU">Deno</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/amazon-eventbridge"><span title="Amazon EventBridge" class="linkLabel_WmDU">Amazon EventBridge</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/drupal-integration"><span title="Drupal" class="linkLabel_WmDU">Drupal</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cache/integrations/terraform"><span title="Terraform" class="linkLabel_WmDU">Terraform</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cache/proxy"><span title="Momento Proxy" class="categoryLinkLabel_W154">Momento Proxy</span></a><button aria-label="Expand sidebar category &#x27;Momento Proxy&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cache/resp"><span title="RESP compatibility" class="linkLabel_WmDU">RESP compatibility</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cache/patterns/database-caching"><span title="Patterns" class="categoryLinkLabel_W154">Patterns</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cache/develop"><span title="Develop" class="categoryLinkLabel_W154">Develop</span></a><button aria-label="Expand sidebar category &#x27;Develop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cache/how-to/rate-limiter"><span title="How To" class="categoryLinkLabel_W154">How To</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cache/learn/how-it-works/expire-data-with-ttl"><span title="Learn" class="categoryLinkLabel_W154">Learn</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cache/manage/metrics_in_the_console"><span title="Manage" class="categoryLinkLabel_W154">Manage</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Integrations</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Bulk data writing</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Efficient bulk writes to Momento Cache from Redis, CSV, JSON, and more</h1></header>
<p>If you need to migrate large volumes of data from an existing source into your Momento cache, you’re in the right place. The pipeline proposed here supports Redis data sources, but the design is extensible to other data sources like CSV, JSON, Parquet, and Memcache, among others.</p>
<p>Momento provides a bulk loading toolkit that simplifies extraction, validation, and loading, either individually or via a streamlined pipeline.</p>
<p><img decoding="async" loading="lazy" alt="diagram" src="/assets/images/bulk-writing-diagram-e27d730668fcfd802738ecfa6b748d3d.svg" width="3976" height="1176" class="img_ev3q"></p>
<p>In the above diagram, you can see the pipeline first normalizes (extracts) data sources into a common format, <a href="https://jsonlines.org/" target="_blank" rel="noopener noreferrer" class="">JSON lines (JSON-L)</a>. Then checks are performed to identify data incompatible with Momento. Finally, the valid data is loaded into your cache.</p>
<p>We encourage and welcome contributions to add more data sources. You can also request support for a particular data source by emailing <a href="mailto:support@momentohq.com" target="_blank" rel="noopener noreferrer" class="">Momento support</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="setting-up-the-toolset-workflow">Setting up the toolset workflow<a href="#setting-up-the-toolset-workflow" class="hash-link" aria-label="Direct link to Setting up the toolset workflow" title="Direct link to Setting up the toolset workflow" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h3>
<p>To use the toolset for reading a Redis database, ensure you have Java 8 or a higher version installed. For Windows users, you&#x27;ll additionally either need to install bash or run the Linux version using the Windows Subsystem for Linux (WSL).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation-steps">Installation steps<a href="#installation-steps" class="hash-link" aria-label="Direct link to Installation steps" title="Direct link to Installation steps" translate="no">​</a></h3>
<ol>
<li class="">Navigate to the <a href="https://github.com/momentohq/momento-bulk-writer/releases" target="_blank" rel="noopener noreferrer" class="">releases page to download</a> the latest release.</li>
<li class="">Choose between Linux, OSX, and Windows runtimes.</li>
<li class="">Decompress the release and untar it to your preferred directory.</li>
</ol>
<p>Below is an example for Linux:</p>
<div class="language-cli codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cli codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ wget https://github.com/momentohq/momento-bulk-writer/releases/download/${version}/momento-bulk-writer-linux-x86.tgz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tar xzvf momento-bulk-writer-linux-x86.tgz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd ./momento-bulk-writer-linux-x86</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./extract-rdb.sh -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./validate.sh -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./load.sh -h</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage-guide">Usage guide<a href="#usage-guide" class="hash-link" aria-label="Direct link to Usage guide" title="Direct link to Usage guide" translate="no">​</a></h2>
<p>This section provides a step-by-step guide on using the toolset for a Redis to Momento data pipeline. The process involves three key steps: extracting a Redis database to JSON lines, validating the JSON lines, and finally loading the JSON lines into Momento.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="obtaining-redis-database-rdb-files">Obtaining Redis database (RDB) files<a href="#obtaining-redis-database-rdb-files" class="hash-link" aria-label="Direct link to Obtaining Redis database (RDB) files" title="Direct link to Obtaining Redis database (RDB) files" translate="no">​</a></h3>
<p>Firstly, you&#x27;ll need to obtain RDB file(s) by either creating a <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/backups-manual.html" target="_blank" rel="noopener noreferrer" class="">backup in Amazon ElastiCache</a> or <a href="https://redis.io/commands/bgsave/" target="_blank" rel="noopener noreferrer" class="">running BGSAVE on an existing Redis instance</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="extracting-and-validating-redis-database-files">Extracting and validating Redis database files<a href="#extracting-and-validating-redis-database-files" class="hash-link" aria-label="Direct link to Extracting and validating Redis database files" title="Direct link to Extracting and validating Redis database files" translate="no">​</a></h3>
<p>Assuming you have a directory of RDB files located in <code>./redis</code> and you wish to write the output to the current directory, use the <code>extract-rdb-and-validate.sh</code> script as follows:</p>
<div class="language-cli codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cli codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./extract-rdb-and-validate.sh -s 1 -t 1 ./redis</span><br></span></code></pre></div></div>
<p>The command will extract the RDB files in <code>./redis</code> to JSON lines format and write the output to the current directory. The <code>-s</code> and <code>-t</code> flags set the max size in MiB and max time-to-live (TTL) in days of items in the cache, respectively. If an item exceeds <a class="" href="/cache/manage/limits">Momento’s service limits</a>, item size (5 MB), or a TTL (24 hours), that item will be flagged by the process.</p>
<p>For more information, check out <a class="" href="/cache/manage/limits">Service Limits</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="inspecting-the-output">Inspecting the output<a href="#inspecting-the-output" class="hash-link" aria-label="Direct link to Inspecting the output" title="Direct link to Inspecting the output" translate="no">​</a></h3>
<p>Your current directory should now contain several output files and directories. The important new directories are <code>validate-strict</code> and <code>validate-lax</code>. <code>validate-strict</code> contains data for any mismatches between Redis and Momento, while <code>validate-lax</code> contains data for fewer of the criteria, catching only wholly unsupported data. You&#x27;ll also find a validation report detailing the data validation process.</p>
<p>Some details of the reports:
The <code>validate-strict</code> directory has data from any mismatch between source data (Redis) and Momento Cache, if the data:</p>
<ul>
<li class="">exceeds the max item size, or</li>
<li class="">has a TTL greater than the max TTL, or</li>
<li class="">is missing a TTL (as this is required for Momento Cache), or</li>
<li class="">is a type unsupported by Momento Cache</li>
</ul>
<p>This is helpful in understanding which data lacks a TTL to understand what TTL to apply. Customers have found this especially useful as it identifies outliers in their data, which could be due to bugs in their application logic.</p>
<p>To contrast, the <code>validate-lax</code> directory has data if the data:</p>
<ul>
<li class="">exceeds <a class="" href="/cache/manage/limits">Momento’s max item size</a>, or</li>
<li class="">is a type unsupported by Momento</li>
</ul>
<p>The <code>validate-lax</code> directory contains data that is unsupported to load into Momento Cache and should be reviewed manually. For example, items with a TTL greater than the Momento max, items lacking a TTL, or those already expired can be addressed and then loaded into Momento.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loading-data-into-momento-cache">Loading data into Momento Cache<a href="#loading-data-into-momento-cache" class="hash-link" aria-label="Direct link to Loading data into Momento Cache" title="Direct link to Loading data into Momento Cache" translate="no">​</a></h3>
<p>Finally, we will load the validated data into Momento using the load script. Following our example:</p>
<div class="language-cli codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cli codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./load.sh -a $AUTH_TOKEN -c $CACHE -t 1 -n 10 ./validate-lax/valid.jsonl</span><br></span></code></pre></div></div>
<p>This command will load the data in <code>./validate-lax/valid.jsonl</code> into the cache <code>$CACHE</code> with a default TTL of one day, using your Momento auth token <code>$AUTH_TOKEN</code>. The <code>-n</code> flag sets the number of concurrent requests to make to Momento.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verifying-data-in-momento-cache">Verifying data in Momento Cache<a href="#verifying-data-in-momento-cache" class="hash-link" aria-label="Direct link to Verifying data in Momento Cache" title="Direct link to Verifying data in Momento Cache" translate="no">​</a></h3>
<p>Optionally, you can verify the data in Momento Cache matches what is on disk using the verify subcommand. This is a sanity check that should succeed, less items that have already expired.</p>
<div class="language-cli codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cli codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./bin/MomentoEtl verify -a $AUTH_TOKEN -c $CACHE -n 10 ./validate-lax/valid.jsonl</span><br></span></code></pre></div></div>
<p>This tool prints any differences between the items on disk and items in your cache. If we did things right, then we expect no error output.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-from-an-ec2-instance">Running from an EC2 instance<a href="#running-from-an-ec2-instance" class="hash-link" aria-label="Direct link to Running from an EC2 instance" title="Direct link to Running from an EC2 instance" translate="no">​</a></h3>
<p>The toolset has been tested on an in-region m6a.2xlarge EC2 instance with 64GB disk space on AWS. We first performed a sweep of concurrent requests to determine the optimal rate.</p>
<p>Enjoy this powerful toolset and the convenience of bulk-writing data to Momento Cache.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/momentohq/public-dev-docs/tree/main/docs/cache/integrations/bulk-writing-from-redis-json-csv.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cache/integrations/aws-secrets-manager"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">AWS Secrets Manager</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cache/integrations/netlify-integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Netlify</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-the-toolset-workflow" class="table-of-contents__link toc-highlight">Setting up the toolset workflow</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#installation-steps" class="table-of-contents__link toc-highlight">Installation steps</a></li></ul></li><li><a href="#usage-guide" class="table-of-contents__link toc-highlight">Usage guide</a><ul><li><a href="#obtaining-redis-database-rdb-files" class="table-of-contents__link toc-highlight">Obtaining Redis database (RDB) files</a></li><li><a href="#extracting-and-validating-redis-database-files" class="table-of-contents__link toc-highlight">Extracting and validating Redis database files</a></li><li><a href="#inspecting-the-output" class="table-of-contents__link toc-highlight">Inspecting the output</a></li><li><a href="#loading-data-into-momento-cache" class="table-of-contents__link toc-highlight">Loading data into Momento Cache</a></li><li><a href="#verifying-data-in-momento-cache" class="table-of-contents__link toc-highlight">Verifying data in Momento Cache</a></li><li><a href="#running-from-an-ec2-instance" class="table-of-contents__link toc-highlight">Running from an EC2 instance</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Sites</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Dev docs</a></li><li class="footer__item"><a href="https://www.gomomento.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Momento</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/momentohq/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://twitter.com/momentohq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.gomomento.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us</a></li><li class="footer__item"><a href="https://www.gomomento.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/momentohq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/momento-logo-white.svg" alt="Momento Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/momento-logo-forest.svg" alt="Momento Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2022 - 2025 Momento, Inc.</div></div></div></footer></div>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-THBDHDQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>