---
sidebar_position: 7
sidebar_label: Metrics
title: Topic Metrics
pagination_prev: null
description: Discover how to view your Topic usage directly in the Momento console
keywords:
  - momento
  - topics
  - pubsub
  - pub/sub
  - eda
  - event-driven architecture
  - serverless
  - metrics
  - dashboard
  - metric
  - resources
hide_title: true
---

# Usage metrics

Momento Topicsを使用してアプリケーションを開発、運用する場合、バグを効果的に診断し、パフォーマンスを最適化するための可視性が必要になります。Momentoは、トラブルシューティングとチューニングを容易にすることを目的として、Momentoコンソールを介して、すべての顧客に1時間のサービス側メトリクスを提供します。Momento Cacheに重要な依存関係を持つ企業であれば、Momentoチームと緊密に連携し、サポートと詳細な履歴メトリクスの提供を受けることをお勧めします。

Momentoコンソールで、左のナビゲーションメニューにある小さな棒グラフアイコンを選択すると、キャッシュメトリックスダッシュボードにアクセスできます。

![image](@site/static/img/metrics_select.png)

利用可能なメトリクスは、キャッシュのデータ・プレーン操作のみを対象としており（キャッシュの作成または削除などの制御プレーン操作は含まれません）、直前の 1 時間のものです。現在、メトリクスは、Momento アカウント内のすべてのキャッシュの集計を表示します。折れ線グラフのその分のバブルにカーソルを合わせると、任意の分のポイント・データを表示できます。メトリクスの表示は通常、1～2分遅れます。

## TPS (transactions per second)
この折れ線グラフは、1 秒あたりのキャッシュ・データ操作要求数を 1 分間ごとに平均したものです。これを使用して、キャッシュ内のアプリケーション・アクティビティのレベルを理解することができます。ここに何も表示されない場合は、キャッシュを使用しておらず、アプリケーションの動作の健全性とコード内のロジックを確認する必要があります！

![image](@site/static/img/metrics_tps.png)

## Byte count (data volume in/out of your Momento caches)
この折れ線グラフは、1分間にMomentoキャッシュに転送された、またはキャッシュから転送されたバイト数を合計したものです。直近の 1 時間に転送されたバイト数の合計も上のバーに表示されます。これを使用して、キャッシュ内のアプリケーション アクティビティのレベルを把握できます。ここに何も表示されない場合は、キャッシュを使用していないため、アプリケーションの動作の健全性とコード内のロジックを確認する必要があります！転送されたデータに関する情報を使って、アプリケーションがキャッシュに与えているスループットの見積もりを得ることができます。TPSとバイト数の両方のメトリクスを見ることで、キャッシュ・アイテムのサイズに関する大まかな情報を得ることもできます。

![image](@site/static/img/metrics_bytecount.png)

## Errors and successes
このグラフは、キャッシュへのアプリケーションリクエストに対する Momento からのエラーおよび成功レスポンスの数を示します。このグラフは、パーセンテージとして表示することも、1 分間のレスポンスの生のカウントとして表示することもできます。エラーのレベルが高い場合は、アプリケーションログを詳しく調べて原因を理解してください。エラー率の上昇は、アプリケーションリクエストが [サービス制限](/topics/limits) に遭遇したために、Momento によってスロットルされていることを示す可能性があります。

![image](@site/static/img/metrics_success-error.png)

## Hits and misses (hit rate)
このグラフは、アプリケーションがどれだけうまくキャッシュを適用しているかを示している。ヒット率に影響を与える要因には、アイテムに選択したTTLとキャッシュにアイテムを追加する戦略が含まれます（次回読み込むときにキャッシュにアイテムがあると予想される場合は、キャッシュにアイテムを書き込む必要があります）。ヒット率が高ければ高いほど、キャッシュの恩恵は大きくなります。しかし、長いTTLを使用する場合は、アプリケーションで扱うデータの陳腐化とのバランスを取る必要があります。

![image](@site/static/img/metrics_hit-miss.png)


### FAQ
<details>
  <summary>どうすれば1時間以上のメトリックスを得ることができますか？</summary>

  本番環境では、Momentoチームと提携してサポートを受けることをお勧めします。これには、詳細なメトリクスの観測可能ツールへの公開が含まれます（現在はCloudWatchですが、今後オプションが増える予定です）。詳細なメトリクスの配信が可能になれば、運用基準に従ってアラームやダッシュボードを構築することができます。

</details>

<details>
  <summary>なぜレイテンシ・メトリクスが提供されないのですか？</summary>

  Momentoが測定できるのは、サービス内部（リクエスト・ルーターとストレージ・ノード間）のトラフィックに関連するレイテンシーだけです。これは、全体的なレイテンシーの話と、ユーザーが受けているエクスペリエンスについて、より多くのことを物語っています。また、カナリアを使って、ネットワーク上のどこか遠くにいるエンドユーザーが経験するレイテンシーをテストし、報告することを検討することもできます。

  CloudWatchへの詳細なメトリクス配信を受けているお客様には、パーセンタイル付きのレイテンシ・メトリクスが提供されます。これは、クライアント側のレイテンシやカナリア・レイテンシと比較することで、ユーザー・エクスペリエンスの問題がMomentoキャッシュに関連しているのか、あるいは根本的な原因や解決策を他の場所に求める必要があるのかを迅速に判断するために使用できます。

</details>
