"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[6795],{1187:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>h});var a=n(4848),o=n(8453),s=(n(2821),n(503));const i={sidebar_position:3,sidebar_label:"Cache",displayed_sidebar:"platformSidebar",title:"Getting started with Momento Cache in JavaScript",description:"Learn the basic building blocks for writing TypeScript and JavaScript code to interact with Momento Cache.",keywords:["momento","cache","caching","topics","pubsub","pub/sub","eda","event-driven architecture","redis","serverless","sdk","sdks","api","typescript","javascript","nodejs","node.js","examples","resources","getting started","quick start","web","browser"]},r="Getting Started with Momento Cache in JavaScript",c={id:"platform/sdks/nodejs/cache",title:"Getting started with Momento Cache in JavaScript",description:"Learn the basic building blocks for writing TypeScript and JavaScript code to interact with Momento Cache.",source:"@site/docs/platform/sdks/nodejs/cache.mdx",sourceDirName:"platform/sdks/nodejs",slug:"/platform/sdks/nodejs/cache",permalink:"/platform/sdks/nodejs/cache",draft:!1,unlisted:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/platform/sdks/nodejs/cache.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,sidebar_label:"Cache",displayed_sidebar:"platformSidebar",title:"Getting started with Momento Cache in JavaScript",description:"Learn the basic building blocks for writing TypeScript and JavaScript code to interact with Momento Cache.",keywords:["momento","cache","caching","topics","pubsub","pub/sub","eda","event-driven architecture","redis","serverless","sdk","sdks","api","typescript","javascript","nodejs","node.js","examples","resources","getting started","quick start","web","browser"]},sidebar:"platformSidebar",previous:{title:"Style Guide",permalink:"/platform/sdks/nodejs/style-guide"},next:{title:"Topics",permalink:"/platform/sdks/nodejs/topics"}},l={},h=[{value:"Install the Momento SDK",id:"install-the-momento-sdk",level:2},{value:"Set up your API key",id:"set-up-your-api-key",level:2},{value:"Import libraries and create a CacheClient object",id:"import-libraries-and-create-a-cacheclient-object",level:2},{value:"Create a new cache in Momento Cache",id:"create-a-new-cache-in-momento-cache",level:2},{value:"List the names of existing caches in your account",id:"list-the-names-of-existing-caches-in-your-account",level:2},{value:"Write an item to a cache",id:"write-an-item-to-a-cache",level:2},{value:"Read an item from a cache",id:"read-an-item-from-a-cache",level:2},{value:"Running the code",id:"running-the-code",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"getting-started-with-momento-cache-in-javascript",children:"Getting Started with Momento Cache in JavaScript"}),"\n",(0,a.jsxs)(t.p,{children:["Momento provides two JavaScript SDKs; ",(0,a.jsx)(t.a,{href:"/platform/sdks/nodejs",children:"one for Node.js"})," and ",(0,a.jsx)(t.a,{href:"/platform/sdks/web",children:"one for browsers other web applications"}),". The two SDKs have identical APIs, so your code will look the same except for ",(0,a.jsx)(t.code,{children:"import"})," statements, but under the hood they are built for optimal performance and compatibility in different JavaScript runtime environments."]}),"\n",(0,a.jsx)(t.p,{children:"This page contains the basics that you will need in order to get going quickly with Momento Cache. For more in-depth information and examples, visit the SDK pages linked above."}),"\n",(0,a.jsx)(t.h2,{id:"install-the-momento-sdk",children:"Install the Momento SDK"}),"\n",(0,a.jsx)(t.p,{children:"To Install the Momento Node.js SDK in an existing Node.js project:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-cli",children:"npm install @gomomento/sdk\n"})}),"\n",(0,a.jsx)(t.p,{children:"OR, to install the Momento Web SDK in an existing browser application project:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-cli",children:"npm install @gomomento/sdk-web\n"})}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.p,{children:["You only need one of the two libraries; either ",(0,a.jsx)(t.code,{children:"@gomomento/sdk"})," or ",(0,a.jsx)(t.code,{children:"@gomomento/sdk-web"}),", depending on your target platform. You do not need both."]})}),"\n",(0,a.jsx)(t.h2,{id:"set-up-your-api-key",children:"Set up your API key"}),"\n",(0,a.jsxs)(t.p,{children:["You'll need a Momento API key to authenticate with Momento.  You can get one from the ",(0,a.jsx)(t.a,{href:"https://console.gomomento.com/caches",children:"Momento Web Console"}),".\nOnce you have your API key, store it in an environment variable so that the Momento client can consume it:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"export MOMENTO_API_KEY=<your Momento API key here>\n"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Note"}),": it is best practice to put the API key into something like AWS Secret Manager or GCP Secret Manager instead of an environment variable for enhanced security, but we are using one here for demo purposes."]}),"\n",(0,a.jsx)(t.h2,{id:"import-libraries-and-create-a-cacheclient-object",children:"Import libraries and create a CacheClient object"}),"\n",(0,a.jsx)(t.p,{children:"This code sets up the main function, pulls in the necessary imports, and instantiates the CacheClient that will be used to interact with your cache."}),"\n",(0,a.jsx)(s.F,{language:"javascript",code:"/* eslint-disable @typescript-eslint/no-unused-vars */\nimport {CacheClient, Configurations, CredentialProvider} from '@gomomento/sdk';\n\nasync function main() {\n  const cacheClient = await CacheClient.create({\n    configuration: Configurations.Laptop.v1(),\n    credentialProvider: CredentialProvider.fromEnvironmentVariable('MOMENTO_API_KEY'),\n    defaultTtlSeconds: 60,\n  });\n}\n\nmain().catch(e => {\n  console.error(`Uncaught exception while running example: ${JSON.stringify(e)}`);\n  throw e;\n});\n"}),"\n",(0,a.jsx)(t.h2,{id:"create-a-new-cache-in-momento-cache",children:"Create a new cache in Momento Cache"}),"\n",(0,a.jsx)(t.p,{children:"Use this function to create a new cache in your account."}),"\n",(0,a.jsx)(s.F,{language:"javascript",code:"const result = await cacheClient.createCache(cacheName);\nswitch (result.type) {\n  case CreateCacheResponse.AlreadyExists:\n    console.log(`Cache '${cacheName}' already exists`);\n    break;\n  case CreateCacheResponse.Success:\n    console.log(`Cache '${cacheName}' created`);\n    break;\n  case CreateCacheResponse.Error:\n    throw new Error(\n      `An error occurred while attempting to create cache '${cacheName}': ${result.errorCode()}: ${result.toString()}`\n    );\n}"}),"\n",(0,a.jsx)(t.h2,{id:"list-the-names-of-existing-caches-in-your-account",children:"List the names of existing caches in your account"}),"\n",(0,a.jsx)(t.p,{children:"A simple list of the names of caches for the account."}),"\n",(0,a.jsx)(s.F,{language:"javascript",code:"const result = await cacheClient.listCaches();\nswitch (result.type) {\n  case ListCachesResponse.Success:\n    console.log(\n      `Caches:\\n${result\n        .getCaches()\n        .map(c => c.getName())\n        .join('\\n')}\\n\\n`\n    );\n    break;\n  case ListCachesResponse.Error:\n    throw new Error(`An error occurred while attempting to list caches: ${result.errorCode()}: ${result.toString()}`);\n}"}),"\n",(0,a.jsx)(t.h2,{id:"write-an-item-to-a-cache",children:"Write an item to a cache"}),"\n",(0,a.jsx)(t.p,{children:"A simple example of doing a set operation. In the client.set call, the TTL is optional. If you did pass it in, this would override the default TTL value set with the client connection object."}),"\n",(0,a.jsx)(s.F,{language:"javascript",code:"const result = await cacheClient.set(cacheName, 'test-key', 'test-value');\nswitch (result.type) {\n  case CacheSetResponse.Success:\n    console.log(\"Key 'test-key' stored successfully\");\n    break;\n  case CacheSetResponse.Error:\n    throw new Error(\n      `An error occurred while attempting to store key 'test-key' in cache '${cacheName}': ${result.errorCode()}: ${result.toString()}`\n    );\n}"}),"\n",(0,a.jsx)(t.h2,{id:"read-an-item-from-a-cache",children:"Read an item from a cache"}),"\n",(0,a.jsx)(t.p,{children:"This is an example of a simple read operation to get an item from a cache."}),"\n",(0,a.jsx)(s.F,{language:"javascript",code:"const getResponse = await cacheClient.get(cacheName, 'test-key');\n// simplified style; assume the value was found\nconsole.log(`cache hit: ${getResponse.value()!}`);\n\n// pattern-matching style; safer for production code\nswitch (getResponse.type) {\n  case CacheGetResponse.Hit:\n    console.log(`Retrieved value for key 'test-key': ${getResponse.valueString()}`);\n    break;\n  case CacheGetResponse.Miss:\n    console.log(`Key 'test-key' was not found in cache '${cacheName}'`);\n    break;\n  case CacheGetResponse.Error:\n    throw new Error(\n      `An error occurred while attempting to get key 'test-key' from cache '${cacheName}': ${getResponse.errorCode()}: ${getResponse.toString()}`\n    );\n}"}),"\n",(0,a.jsx)(t.h2,{id:"running-the-code",children:"Running the code"}),"\n",(0,a.jsxs)(t.p,{children:["You can find complete, working examples in the ",(0,a.jsx)(t.a,{href:"https://github.com/momentohq/client-sdk-javascript/blob/main/examples",children:"JavaScript SDK GitHub repo examples directory"}),"."]}),"\n",(0,a.jsxs)(t.admonition,{type:"info",children:[(0,a.jsxs)(t.p,{children:["Beyond these basic API calls check out the ",(0,a.jsx)(t.a,{href:"/cache/develop/api-reference/",children:"API reference page"})," for more information on the full assortment of Momento API calls."]}),(0,a.jsxs)(t.p,{children:["Follow this link to see this same type of code but for ",(0,a.jsx)(t.a,{href:"https://github.com/momentohq/client-sdk-javascript/blob/main/examples/nodejs/cache/advanced.ts",children:"more advanced calls"}),"."]})]})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},2821:(e,t,n)=>{n(6540)},503:(e,t,n)=>{n.d(t,{F:()=>s});var a=n(1432),o=(n(6540),n(4848));const s=e=>{let{language:t,code:n}=e;return(0,o.jsx)(a.A,{language:t,children:n})}}}]);