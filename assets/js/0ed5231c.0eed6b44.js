"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[6782],{7628:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>h});var t=n(4848),s=n(8453),r=(n(1441),n(5347));const i={sidebar_position:2,sidebar_label:"Getting Started",title:"Creating a webhook",description:"Learn how to create a webhook using the Momento Console",pagination_next:null,keywords:["topics","webhooks","eda","momento","event-driven architecture"]},a="Create your first webhook in Momento",l={id:"topics/webhooks/creating-a-webhook",title:"Creating a webhook",description:"Learn how to create a webhook using the Momento Console",source:"@site/docs/topics/webhooks/creating-a-webhook.md",sourceDirName:"topics/webhooks",slug:"/topics/webhooks/creating-a-webhook",permalink:"/topics/webhooks/creating-a-webhook",draft:!1,unlisted:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/topics/webhooks/creating-a-webhook.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Getting Started",title:"Creating a webhook",description:"Learn how to create a webhook using the Momento Console",pagination_next:null,keywords:["topics","webhooks","eda","momento","event-driven architecture"]},sidebar:"topicsSidebar",previous:{title:"Overview",permalink:"/topics/webhooks/overview"}},c={},h=[];function p(e){const o={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"create-your-first-webhook-in-momento",children:"Create your first webhook in Momento"})}),"\n",(0,t.jsxs)(o.p,{children:["To complete step one of setting up the webhook, log into the ",(0,t.jsx)(o.a,{href:"https://console.gomomento.com",children:"Momento console"}),". Navigate to the ",(0,t.jsx)(o.a,{href:"https://console.gomomento.com/caches",children:"cache list"})," on the left navigation bar and select the cache that will publish to the webhook."]}),"\n",(0,t.jsx)(o.p,{children:"To create the webhook, a few simple details need to be supplied."}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.img,{alt:"Webhook Creation",src:n(601).A+"",width:"2402",height:"804"})}),"\n",(0,t.jsx)(o.p,{children:"The three fields presented are important for different reasons."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Webhook Name"}),": Human-readable name for the webhook."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Topic Name"}),": Topic that will trigger the webhook when published."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Webhook Destination"}),": Endpoint URL of the webhook to POST to."]}),"\n"]}),"\n",(0,t.jsxs)(o.p,{children:["Next, ",(0,t.jsx)(o.a,{href:"https://console.gomomento.com/api-keys",children:"create a Fine-Grained Access Key"})," for the cache, with topic ",(0,t.jsx)(o.code,{children:"publish"})," permissions."]}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.img,{alt:"Token Creation",src:n(4126).A+"",width:"1279",height:"508"})}),"\n",(0,t.jsxs)(o.p,{children:["Using this token, you can now start publishing to the topic. You can use the ",(0,t.jsx)(o.a,{href:"/topics/api-reference",children:"Momento SDK"})," to publish to the topic."]}),"\n",(0,t.jsx)(r.r,{js:"const result = await topicClient.publish(cacheName, 'test-topic', 'test-topic-value');\nswitch (result.type) {\n  case TopicPublishResponse.Success:\n    console.log(\"Value published to topic 'test-topic'\");\n    break;\n  case TopicPublishResponse.Error:\n    throw new Error(\n      `An error occurred while attempting to publish to the topic 'test-topic' in cache '${cacheName}': ${result.errorCode()}: ${result.toString()}`\n    );\n}",python:'response = await topic_client.publish("cache", "my_topic", "my_value")\nmatch response:\n    case TopicPublish.Success():\n        print("Successfully published a message")\n    case TopicPublish.Error() as error:\n        print(f"Error publishing a message: {error.message}")\n\n',java:"",kotlin:'when (val response = topicClient.publish("test-cache", "test-topic", "test-message")) {\n    is TopicPublishResponse.Success -> println("Message published successfully")\n    is TopicPublishResponse.Error -> throw RuntimeException(\n        "An error occurred while attempting to publish message to topic \'test-topic\': ${response.errorCode}",\n        response\n    )\n}',go:'_, err := topicClient.Publish(ctx, &momento.TopicPublishRequest{\n\tCacheName: cacheName,\n\tTopicName: "test-topic",\n\tValue:     momento.String("test-message"),\n})\nif err != nil {\n\tpanic(err)\n}',csharp:'var publishResponse =\r\n     await topicClient.PublishAsync("test-cache", "test-topic", "test-topic-value");\r\nswitch (publishResponse)\r\n{\r\n    case TopicPublishResponse.Success:\r\n        Console.WriteLine("Successfully published message to \'test-topic\'");\r\n        break;\r\n    case TopicPublishResponse.Error error:\r\n        throw new Exception($"An error occurred while publishing topic message: {error.ErrorCode}: {error}");\r\n}\r',php:"",rust:'  topic_client\n      .publish(cache_name, topic_name, "Hello, Momento!")\n      .await?;\n  println!("Published message");',elixir:"",swift:'let result = await topicClient.publish(\n    cacheName: cacheName,\n    topicName: "topic",\n    value: "value"\n)\nswitch result {\ncase .success(_):\n    print("Successfully published message!")\ncase .error(let err):\n    print("Unable to publish message: \\(err)")\n    exit(1)\n}',dart:'final result = await topicClient.publish("cache", "topic", "hello message!");\nswitch (result) {\n  case TopicPublishSuccess():\n    print("Successful publish!");\n  case TopicPublishError():\n    print("Publish error: ${result.errorCode} ${result.message}");\n}',ts:""}),"\n",(0,t.jsxs)(o.p,{children:["You should now be able to see the events being received by your webhook endpoint. What this endpoint does with the events is up to you! It is worth noting that this Webhook can listen to multiple topics across multiple caches. Since the ",(0,t.jsx)(o.code,{children:"topic"})," and ",(0,t.jsx)(o.code,{children:"cache"})," come as part of the POST body, events can be distinguished by these attributes, and processed in differently depending on which Cache/Topic the event came from."]})]})}function d(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},1441:(e,o,n)=>{n(6540)},5347:(e,o,n)=>{n.d(o,{r:()=>j});var t=n(1470),s=n(9365),r=n(1432),i=(n(6540),n(7293)),a=n(4848);const l="https://github.com/momentohq/client-sdk-javascript/blob/main/examples/nodejs/cache/doc-example-files/doc-examples-js-apis.ts",c="https://github.com/momentohq/client-sdk-python/blob/main/examples/py310/doc-examples-python-apis.py",h="https://github.com/momentohq/client-sdk-java/blob/main/examples/cache/src/main/java/momento/client/example/doc_examples/DocExamplesJavaAPIs.java",p="https://github.com/momentohq/client-sdk-kotlin/blob/main/examples/src/main/kotlin/software/momento/example/doc_examples/DocExamples.kt",d="https://github.com/momentohq/client-sdk-go/blob/main/examples/docs-examples/main.go",m="https://github.com/momentohq/client-sdk-dotnet/blob/main/examples/DocExampleApis/Program.cs",u="https://github.com/momentohq/client-sdk-php/blob/main/examples/doc-examples-php-apis.php",b="https://github.com/momentohq/client-sdk-rust/blob/main/example/rust/src/docs_examples/docs_examples.rs",x="https://github.com/momentohq/client-sdk-elixir/blob/main/examples/doc_examples.exs",g="https://github.com/momentohq/client-sdk-swift/blob/main/Examples/doc-example-apis/Sources/main.swift",f="https://github.com/momentohq/client-sdk-dart/blob/main/example/doc_example_apis/bin/doc_example_apis.dart",j=e=>{let{js:o,python:n,java:j,kotlin:w,go:k,csharp:v,php:A,rust:y,ruby:_,elixir:C,swift:P,dart:T,cli:S}=e;return o||n||j||w||k||v||A||y||_||C||P||T||S?(0,a.jsxs)(t.A,{children:[o&&(0,a.jsxs)(s.A,{value:"js",label:"JavaScript",children:[(0,a.jsx)(r.A,{language:"js",children:o}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),n&&(0,a.jsxs)(s.A,{value:"python",label:"Python",children:[(0,a.jsx)(r.A,{language:"python",children:n}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),j&&(0,a.jsxs)(s.A,{value:"java",label:"Java",children:[(0,a.jsx)(r.A,{language:"java",children:j}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),w&&(0,a.jsxs)(s.A,{value:"kotlin",label:"Kotlin",children:[(0,a.jsx)(r.A,{language:"kotlin",children:w}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),k&&(0,a.jsxs)(s.A,{value:"go",label:"Go",children:[(0,a.jsx)(r.A,{language:"go",children:k}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),v&&(0,a.jsxs)(s.A,{value:"csharp",label:"C#",children:[(0,a.jsx)(r.A,{language:"csharp",children:v}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:m,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),A&&(0,a.jsxs)(s.A,{value:"php",label:"PHP",children:[(0,a.jsx)(r.A,{language:"php",children:A}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),y&&(0,a.jsxs)(s.A,{value:"rust",label:"Rust",children:[(0,a.jsx)(r.A,{language:"rust",children:y}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:b,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),_&&(0,a.jsx)(s.A,{value:"ruby",label:"Ruby",children:(0,a.jsx)(r.A,{language:"ruby",children:_})}),C&&(0,a.jsxs)(s.A,{value:"elixir",label:"Elixir",children:[(0,a.jsx)(r.A,{language:"elixir",children:C}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:x,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),P&&(0,a.jsxs)(s.A,{value:"swift",label:"Swift",children:[(0,a.jsx)(r.A,{language:"swift",children:P}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:g,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),T&&(0,a.jsxs)(s.A,{value:"dart",label:"Dart",children:[(0,a.jsx)(r.A,{language:"dart",children:T}),(0,a.jsxs)(i.A,{type:"info",children:["Full example code and imports can be found ",(0,a.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",children:"here"})]})]}),S&&(0,a.jsx)(s.A,{value:"cli",label:"CLI",children:(0,a.jsx)(r.A,{language:"cli",children:S})})]}):null}},601:(e,o,n)=>{n.d(o,{A:()=>t});const t=n.p+"assets/images/creating_webhook-d370b1e45b70e26f02cc9f1ceb77150a.jpg"},4126:(e,o,n)=>{n.d(o,{A:()=>t});const t=n.p+"assets/images/create-fine-grained-token-97e4922c35cfd605d5409827859cbfc6.png"}}]);