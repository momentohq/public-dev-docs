"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[4481],{4701:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var o=i(4848),s=i(8453);const t={sidebar_position:6,sidebar_label:"Building and deploying Topics listeners on AWS",title:"Building and deploying Topics listeners on AWS",description:"Learn how to build and deploy Topics listeners on AWS",pagination_next:null},r="Building and Deploying Topics listeners on AWS",l={id:"topics/develop/guides/building-and-deploying-topics-listeners-on-aws",title:"Building and deploying Topics listeners on AWS",description:"Learn how to build and deploy Topics listeners on AWS",source:"@site/docs/topics/develop/guides/building-and-deploying-topics-listeners-on-aws.md",sourceDirName:"topics/develop/guides",slug:"/topics/develop/guides/building-and-deploying-topics-listeners-on-aws",permalink:"/topics/develop/guides/building-and-deploying-topics-listeners-on-aws",draft:!1,unlisted:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/topics/develop/guides/building-and-deploying-topics-listeners-on-aws.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,sidebar_label:"Building and deploying Topics listeners on AWS",title:"Building and deploying Topics listeners on AWS",description:"Learn how to build and deploy Topics listeners on AWS",pagination_next:null},sidebar:"topicsSidebar",previous:{title:"Guides"}},a={},c=[{value:"Organizing Topics listeners",id:"organizing-topics-listeners",level:2},{value:"Deploying Topics listeners on AWS",id:"deploying-topics-listeners-on-aws",level:2}];function d(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"building-and-deploying-topics-listeners-on-aws",children:"Building and Deploying Topics listeners on AWS"})}),"\n",(0,o.jsx)(n.h2,{id:"organizing-topics-listeners",children:"Organizing Topics listeners"}),"\n",(0,o.jsx)(n.p,{children:"When developing Topics listeners, the two most common approaches to follow are to deploy all Topic listeners within a single monolithic application or to split off the Topic listeners into microservices. There\u2019s no one size fits all answer, the decision should be made given the details of your workload and the application\u2019s complexity. Start by building a single subscriber application that listens to multiple topics. Once the traffic and business logic complexity of your application grows, re-evaluate your approach and consider splitting up the Topics listeners into microservices."}),"\n",(0,o.jsx)(n.h2,{id:"deploying-topics-listeners-on-aws",children:"Deploying Topics listeners on AWS"}),"\n",(0,o.jsx)(n.p,{children:"Momento Topics listeners require stateful connections to a Momento Cache to pick up new messages in a topic. The absence of stateful connections in AWS Lambda makes it unsuitable for listening to Topics, necessitating deployment in a container. As you might\u2019ve heard, there are quite a few ways to deploy container-based applications on AWS. Let\u2019s talk through a few common options."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"AWS App Runner"}),"\n",(0,o.jsx)(n.li,{children:"Amazon ECS on AWS Fargate"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"AWS App Runner is an AWS service that provides a fast, simple, and cost-effective way to deploy from source code or a container image directly to a scalable and secure Momento Topics listener application on AWS. AWS App Runner is a great one to use when building new applications, especially if you\u2019re prototyping, if you don\u2019t need all the custom options of other container services, or if you\u2019re new to container-based applications."}),"\n",(0,o.jsx)(n.p,{children:"For larger workloads, we recommend deploying your application with Amazon ECS on AWS Fargate. Fargate abstracts away the overhead of scaling, patching, securing, and managing servers, allowing you to focus on developing your application. Fargate is a better fit for heavier workloads compared to AWS App Runner if you\u2019re expecting steady levels of high traffic."}),"\n",(0,o.jsx)(n.p,{children:"If you\u2019re not sure about which container service to choose for your listener application, please get in touch! We\u2019d be happy to review your application requirements with you and figure out the best fit."}),"\n",(0,o.jsx)(n.p,{children:"Considerations for deploying your Topics listener on AWS"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Credential management","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Consider how you\u2019ll store your Momento auth token for retrieval by your listener application."}),"\n",(0,o.jsx)(n.li,{children:"We recommend using AWS Secrets Manager to store and retrieve your token."}),"\n",(0,o.jsx)(n.li,{children:"You can cache your secret in memory to reduce Secrets Manager cost."}),"\n",(0,o.jsxs)(n.li,{children:["See ",(0,o.jsx)(n.a,{href:"../authentication",children:"here"})," for more on Momento authentication."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Runtime selection (AWS App Runner only)","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Ensure the runtime is supported on AWS App Runner and the Momento SDK."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Infrastructure as code","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"You can deploy Momento caches in the IaC frameworks we support today."}),"\n",(0,o.jsx)(n.li,{children:"CDK"}),"\n",(0,o.jsx)(n.li,{children:"SAM"}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var o=i(6540);const s={},t=o.createContext(s);function r(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);