"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[6706],{7400:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>l});var n=o(4848),i=o(8453);const s={sidebar_position:7,sidebar_label:"Vercel",title:"Integrating Momento with your Vercel app",description:"Learn to deploy a chat app using Momento Javascript Web SDK to Vercel."},a=void 0,r={id:"cache/integrations/vercel-integration",title:"Integrating Momento with your Vercel app",description:"Learn to deploy a chat app using Momento Javascript Web SDK to Vercel.",source:"@site/docs/cache/integrations/vercel-integration.md",sourceDirName:"cache/integrations",slug:"/cache/integrations/vercel-integration",permalink:"/cache/integrations/vercel-integration",draft:!1,unlisted:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/cache/integrations/vercel-integration.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,sidebar_label:"Vercel",title:"Integrating Momento with your Vercel app",description:"Learn to deploy a chat app using Momento Javascript Web SDK to Vercel."},sidebar:"cacheSidebar",previous:{title:"Sequelize",permalink:"/cache/integrations/sequelize"},next:{title:"Cloudflare",permalink:"/cache/integrations/cloudflare"}},c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Deploying with Vercel",id:"deploying-with-vercel",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://vercel.com/",children:"Vercel"})," is a popular platform for building, deploying, and scaling modern websites and apps. Vercel are also the creators and maintainers of ",(0,n.jsx)(t.a,{href:"https://nextjs.org/",children:"Next.js"}),". Their platform's offerings include a fast global edge network, the scalability of serverless, and deployments seamlessly integrated with the most popular Git providers: ",(0,n.jsx)(t.a,{href:"https://github.com/",children:"GitHub"}),", ",(0,n.jsx)(t.a,{href:"https://gitlab.com",children:"GitLab"}),", and ",(0,n.jsx)(t.a,{href:"https://bitbucket.org/",children:"Bitbucket"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["In this tutorial, we'll make use of a simple example ",(0,n.jsx)(t.a,{href:"https://github.com/momentohq/client-sdk-javascript/tree/main/examples/web/nextjs-chat",children:"Next.js chat application"})," from our ",(0,n.jsx)(t.a,{href:"https://github.com/momentohq/client-sdk-javascript",children:"Javascript SDK"}),". By the end of the exercise, you'll have a realtime browser-based chat application up and running at a URL you can use to invite your friends to the chat."]}),"\n",(0,n.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsx)(t.p,{children:"To get this app deployed and running, you'll need to have the following available:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["An account with a Git provider such as ",(0,n.jsx)(t.a,{href:"https://github.com/",children:"GitHub"}),", ",(0,n.jsx)(t.a,{href:"https://gitlab.com",children:"GitLab"}),", or ",(0,n.jsx)(t.a,{href:"https://bitbucket.org/",children:"Bitbucket"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["A ",(0,n.jsx)(t.a,{href:"https://vercel.com/",children:"Vercel"})," account."]}),"\n",(0,n.jsxs)(t.li,{children:["A copy or fork of the ",(0,n.jsx)(t.a,{href:"https://github.com/momentohq/client-sdk-javascript",children:"Momento Javascript SDK"})," in your personal repositories."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Once you have a Vercel account and a copy or fork of the Momento Javascript SDK in your Git provider account, you're ready to configure the Momento side of things using the ",(0,n.jsx)(t.a,{href:"https://console.gomomento.com",children:"Momento console"}),". You can create an account in the console by providing your email address or linking an existing Google or GitHub account. Once you've logged into the console, click the ",(0,n.jsx)(t.code,{children:"Create Cache"})," button on the top right of the page:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Create Cache button",src:o(2432).A+"",width:"336",height:"258"})}),"\n",(0,n.jsxs)(t.p,{children:["Create a cache called ",(0,n.jsx)(t.code,{children:"chat"}),". You can create the cache in your choice of cloud provider, AWS or GCP, and in any region."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Create cache form",src:o(4149).A+"",width:"2990",height:"1350"})}),"\n",(0,n.jsxs)(t.p,{children:["After pressing the ",(0,n.jsx)(t.code,{children:"Create"})," button you'll see the new ",(0,n.jsx)(t.code,{children:"chat"})," cache in the list of available caches."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Chat cache",src:o(8701).A+"",width:"2954",height:"648"})}),"\n",(0,n.jsxs)(t.p,{children:["Notice the region you created your cache in is also displayed in the list of caches. You'll need to make sure that you choose the same region when you generate a Momento authentication token in the next step. Navigate to the ",(0,n.jsx)(t.a,{href:"https://console.gomomento.com/tokens",children:"tokens"})," page, choose the cloud provider and region you used to create your cache, choose the ",(0,n.jsx)(t.code,{children:"Super User Token"})," token type, and hit the ",(0,n.jsx)(t.code,{children:"Generate Token"})," button."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Generate token",src:o(5329).A+"",width:"3416",height:"1670"})}),"\n",(0,n.jsxs)(t.p,{children:["Copy the ",(0,n.jsx)(t.code,{children:"Auth Token"})," and save it in a safe place. You'll need to use it later to configure your Vercel deployment, where you will add it as an environment variable for use in the chat app."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Generated token",src:o(3761).A+"",width:"2704",height:"416"})}),"\n",(0,n.jsx)(t.h2,{id:"deploying-with-vercel",children:"Deploying with Vercel"}),"\n",(0,n.jsxs)(t.p,{children:["Now it's time to log into Vercel to configure and deploy the application. As noted before, you need a copy of the Momento Javascript SDK available in your repository. In this example, we'll deploy from a GitHub repository forked from ",(0,n.jsx)(t.a,{href:"https://github.com/momentohq/client-sdk-javascript",children:"the original"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Fork SDK Repository",src:o(5980).A+"",width:"2478",height:"84"})}),"\n",(0,n.jsxs)(t.p,{children:["After logging into Vercel, navigate to your ",(0,n.jsx)(t.code,{children:"Overview"})," page and press the ",(0,n.jsx)(t.code,{children:"Create a New Project"})," button."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Vercel overview page",src:o(1689).A+"",width:"2944",height:"1372"})}),"\n",(0,n.jsxs)(t.p,{children:["From the list of repositories available to you, press the ",(0,n.jsx)(t.code,{children:"Import"})," button for ",(0,n.jsx)(t.code,{children:"client-sdk-javascript"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Vercel import repository",src:o(5843).A+"",width:"2600",height:"1434"})}),"\n",(0,n.jsxs)(t.p,{children:["The next screen allows you to configure your deployment. Because we are deploying an example application from a subdirectory of the Momento Javascript SDK, you'll need to set the ",(0,n.jsx)(t.code,{children:"Root Directory"})," in the ",(0,n.jsx)(t.code,{children:"Configure Project"})," section of the page. The path to the chat example is ",(0,n.jsx)(t.code,{children:"/examples/web/nextjs-chat"}),", so you'll enter that as the ",(0,n.jsx)(t.code,{children:"Root Directory"}),", using the ",(0,n.jsx)(t.code,{children:"Edit"})," button to navigate to ",(0,n.jsx)(t.code,{children:"examples"})," -> ",(0,n.jsx)(t.code,{children:"web"})," -> ",(0,n.jsx)(t.code,{children:"nextjs-chat"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Vercel root directory",src:o(1997).A+"",width:"1440",height:"1127"})}),"\n",(0,n.jsxs)(t.p,{children:["Notice the Next.js icon next to the selected directory. Vercel has examined the contents of the directory and detected that our project is using Next.js. Because of this auto-detection, we can simply leave the ",(0,n.jsx)(t.code,{children:"Build and Output Settings"})," section alone. It will select default values appropriate to our project."]}),"\n",(0,n.jsxs)(t.p,{children:["Recall that we generated and saved a Momento auth token earlier for use with this application. Use the ",(0,n.jsx)(t.code,{children:"Environment Variables"})," section below the build settings to add an environment variable with ",(0,n.jsx)(t.code,{children:"MOMENTO_API_KEY"})," as the name and the token you generated as the value. Next, add a second environment variable with ",(0,n.jsx)(t.code,{children:"NEXT_PUBLIC_MOMENTO_CACHE_NAME"})," as the key and ",(0,n.jsx)(t.code,{children:"chat"})," as the value to point your app to the cache you created earlier."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Vercel environment variables",src:o(2952).A+"",width:"1568",height:"722"})}),"\n",(0,n.jsxs)(t.p,{children:["And that's all there is to do to configure the deployment. Press the ",(0,n.jsx)(t.code,{children:"Deploy"})," button to release your app into the wild!"]}),"\n",(0,n.jsx)(t.p,{children:"During the deployment, Vercel displays a detailed log showing what it's doing to build and publish your site and, if necessary, reporting on deployment failures to assist in troubleshooting. If all went as planned, you'll be directed to a page confirming a successful deployment."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Vercel deployment confirmation",src:o(9058).A+"",width:"2518",height:"1244"})}),"\n",(0,n.jsxs)(t.p,{children:["Use the ",(0,n.jsx)(t.code,{children:"Continue to Dashboard"})," button to view detailed information about your deployment, most importantly being the URL."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Vercel production deployment",src:o(1972).A+"",width:"2444",height:"1132"})}),"\n",(0,n.jsxs)(t.p,{children:["You're now ready to chat with your friends! There are a few URLs to choose from listed here, but you'll want to use the simplest one listed in the ",(0,n.jsx)(t.code,{children:"Domains"})," section. You would, of course, set up a custom domain were this a production app, but the generated vercel.app URL is good enough for our purposes."]}),"\n",(0,n.jsxs)(t.p,{children:["Clicking on the ",(0,n.jsx)(t.code,{children:"client-sdk-javascript.vercel.app"})," link (your URL will likely be different) reveals your chat app's lobby screen. Use ",(0,n.jsx)(t.code,{children:"chat"})," as the name of the chat room. You could use any name, but using ",(0,n.jsx)(t.code,{children:"chat"})," makes it easy to remember and share. If it doesn't exist, the chat room will be created."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Chat app lobby",src:o(3853).A+"",width:"708",height:"552"})}),"\n",(0,n.jsx)(t.p,{children:"The final step is to choose a username for the chat."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Chat app username",src:o(8385).A+"",width:"758",height:"542"})}),"\n",(0,n.jsx)(t.p,{children:"Now all that's left is to share the URL, cache, and room name with the people you'd like to invite to your chat!"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Chat app chat",src:o(3151).A+"",width:"3024",height:"1794"})}),"\n",(0,n.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,n.jsxs)(t.p,{children:["We hope this quick tutorial has given you an idea of how simple and straightforward it is to deploy a Momento-powered application with Vercel. Feel free, of course, to dive into the ",(0,n.jsx)(t.a,{href:"https://github.com/momentohq/client-sdk-javascript/tree/main/examples/web/nextjs-chat",children:"code for this chat example"})," as well. We hope you'll also enjoy the simplicity of the Momento Topics feature that powers the chat, especially when compared to alternative approaches such as polling and web sockets. And we especially look forward to seeing what our customers build and deploy with Momento in the future!"]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},3761:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/console-api-key-result-4b58c13d256f6d072db0c9fdf98fe4bc.png"},8701:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/console-caches-chat-ce796d1f23d2d69c009f067727eab408.png"},4149:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/console-create-cache-form-1dd5a6c37dfaa6885394f9b79c9425e5.png"},2432:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/console-create-cache-90d89709336a49153da1d5b47282742a.png"},5329:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/console-generate-api-key-fa04c960370ff9c839806a6154d75aad.png"},5980:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/github-fork-js-sdk-3950285fbebfdc6a75982998d63e70d6.png"},3151:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/nextjs-chat-app-chat-6d2b67d875c0be1200e1e583faced55c.png"},3853:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/nextjs-chat-app-lobby-c44d4afaf6ea9f9addfa7ca50f4d754b.png"},8385:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/nextjs-chat-app-username-35a5af269bf50fa8441581c33a673661.png"},9058:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/vercel-deployment-confirmation-ec0ea85794d3997ac02f72fee2765413.png"},2952:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/vercel-environment-variables-87692ae945f17dbb2b0b74a4385feb72.png"},5843:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/vercel-import-repository-b3193091e235b48aa031cc066853e65d.png"},1689:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/vercel-overview-cc8a982b6036e12d661d5bee76005459.png"},1972:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/vercel-production-deployment-8cf79810a0396640e40e7f2d99495354.png"},1997:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/vercel-root-directory-a45b18c784d385c437aacd0647399499.png"},8453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>r});var n=o(6540);const i={},s=n.createContext(i);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);