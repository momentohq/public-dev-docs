"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[224],{74457:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>u});var i=t(74848),a=t(28453),o=t(11470),s=t(19365);const r={sidebar_position:55,sidebar_label:"RESP compatibility",title:"Momento RESP compatibility",description:"Learn how to connect any Valkey or Redis client to Momento Cache with RESP while gaining Momento's reliability, security, and managed operations.",hide_title:!0,slug:"/cache/resp"},l="Momento RESP compatibility",c={id:"cache/resp/index",title:"Momento RESP compatibility",description:"Learn how to connect any Valkey or Redis client to Momento Cache with RESP while gaining Momento's reliability, security, and managed operations.",source:"@site/docs/cache/resp/index.mdx",sourceDirName:"cache/resp",slug:"/cache/resp",permalink:"/cache/resp",draft:!1,unlisted:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/cache/resp/index.mdx",tags:[],version:"current",sidebarPosition:55,frontMatter:{sidebar_position:55,sidebar_label:"RESP compatibility",title:"Momento RESP compatibility",description:"Learn how to connect any Valkey or Redis client to Momento Cache with RESP while gaining Momento's reliability, security, and managed operations.",hide_title:!0,slug:"/cache/resp"},sidebar:"cacheSidebar",previous:{title:"Example",permalink:"/cache/proxy/configuration/example"},next:{title:"Patterns"}},d={},u=[{value:"How it works",id:"how-it-works",level:2},{value:"Connect in minutes",id:"connect-in-minutes",level:2},{value:"Code it your way",id:"code-it-your-way",level:2},{value:"Current command coverage",id:"current-command-coverage",level:2},{value:"Why teams switch to Momento RESP",id:"why-teams-switch-to-momento-resp",level:2},{value:"Common scenarios",id:"common-scenarios",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"momento-resp-compatibility",children:"Momento RESP compatibility"})}),"\n",(0,i.jsxs)(n.p,{children:["Momento Cache now speaks RESP, so Valkey and Redis clients can connect without changing SDKs. This enables Valkey/Redis migrations with zero client changes. Point your client at a Momento RESP endpoint, run ",(0,i.jsx)(n.code,{children:"AUTH"})," with a Momento token, and continue issuing the same ",(0,i.jsx)(n.code,{children:"GET"}),"/",(0,i.jsx)(n.code,{children:"SET"})," commands while the Momento control plane manages scaling, security, and operations."]}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,i.jsxs)(n.p,{children:["RESP (Redis Serialization Protocol) defines the wire format Valkey/Redis clients already use. Momento implements the same request/response structure behind its RESP endpoints, so pointing an existing client at ",(0,i.jsx)(n.code,{children:"cache.<cell>.<region>.<partition>.prod.a.momentohq.com"})," over TLS is a drop-in change."]}),"\n",(0,i.jsxs)(n.p,{children:["A complete list of regions and cells is available on the ",(0,i.jsx)(n.a,{href:"/platform/regions",children:"regions page"})," for availability in your area."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["RESP2 connectivity is in early access for enterprise customers running on dedicated Momento partitions. ",(0,i.jsx)(n.a,{href:"https://www.gomomento.com/contact-us",children:"Contact us"})," to enable access or request RESP3 prioritization."]})}),"\n",(0,i.jsx)(n.h2,{id:"connect-in-minutes",children:"Connect in minutes"}),"\n",(0,i.jsxs)(n.p,{children:["Momento uses the RESP ",(0,i.jsx)(n.code,{children:"username"})," field to determine which cache or namespace the request targets; the ",(0,i.jsx)(n.code,{children:"password"})," field carries your Momento token. Momento performs all real authentication and authorization using its control plane. See the ",(0,i.jsx)(n.a,{href:"/cache/develop/api-reference/auth",children:"authentication and access control page"})," for how API keys and session tokens work."]}),"\n",(0,i.jsxs)(n.p,{children:["Validate the setup with ",(0,i.jsx)(n.code,{children:"valkey-cli"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"valkey-cli --tls -h cache.cell-4-us-west-2-1.prod.a.momentohq.com\n\nauth my-cache-name $MOMENTO_TOKEN\nset a b\nget a\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TLS is required; Momento RESP endpoints only accept encrypted connections."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AUTH"})," maps ",(0,i.jsx)(n.code,{children:"username"})," -> cache name (namespace support is rolling out) and ",(0,i.jsx)(n.code,{children:"password"})," -> Momento API key or session token."]}),"\n",(0,i.jsx)(n.li,{children:"Both short-lived and long-lived Momento tokens work - no Valkey-native password/ACL setup required."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"redis-cli"})," works the same way; swap the binary name if that is the client you have installed."]}),"\n",(0,i.jsxs)(n.li,{children:["Tooling docs: ",(0,i.jsx)(n.a,{href:"https://valkey.io/topics/cli/",children:"valkey-cli reference"})," and ",(0,i.jsx)(n.a,{href:"https://redis.io/docs/latest/develop/tools/cli/",children:"redis-cli guide"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"code-it-your-way",children:"Code it your way"}),"\n",(0,i.jsx)(n.p,{children:"Use any RESP-compatible client that supports TLS. The examples below show Valkey GLIDE in each language alongside a widely used Redis client configured with the same endpoint, username, and Momento token."}),"\n",(0,i.jsxs)(o.A,{children:[(0,i.jsx)(s.A,{value:"python-glide",label:"Python - Valkey",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import asyncio\nimport os\nfrom glide import (\n    GlideClient,\n    GlideClientConfiguration,\n    NodeAddress,\n    ServerCredentials,\n)\n\n\nasync def main():\n    config = GlideClientConfiguration(\n        addresses=[NodeAddress("cache.cell-4-us-west-2-1.prod.a.momentohq.com", 6379)],\n        use_tls=True,\n        credentials=ServerCredentials(\n            username="my-cache-name",\n            password=os.environ["MOMENTO_TOKEN"],\n        ),\n    )\n\n    client = await GlideClient.create(config)\n    await client.set("a", "b")\n    value = await client.get("a")\n    print(value)\n    await client.close()\n\n\nasyncio.run(main())\n'})})}),(0,i.jsx)(s.A,{value:"python-redis",label:"Python - Redis",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import os\nimport redis\n\nclient = redis.Redis(\n    host="cache.cell-4-us-west-2-1.prod.a.momentohq.com",\n    port=6379,\n    username="my-cache-name",\n    password=os.environ["MOMENTO_TOKEN"],\n    ssl=True,\n)\n\nclient.set("a", "b")\nvalue = client.get("a")\nprint(value)\n'})})}),(0,i.jsx)(s.A,{value:"node-glide",label:"Node - Valkey",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { GlideClient } from "@valkey/valkey-glide";\n\nconst client = await GlideClient.createClient({\n  addresses: [{ host: "cache.cell-4-us-west-2-1.prod.a.momentohq.com", port: 6379 }],\n  useTLS: true,\n  credentials: {\n    username: "my-cache-name",\n    password: process.env.MOMENTO_TOKEN!,\n  },\n});\n\nawait client.set("a", "b");\nconst value = await client.get("a");\nconsole.log(value?.toString());\n\nawait client.close();\n'})})}),(0,i.jsx)(s.A,{value:"node-redis",label:"Node - Redis",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import IORedis from "ioredis";\n\nconst client = new IORedis({\n  host: "cache.cell-4-us-west-2-1.prod.a.momentohq.com",\n  port: 6379,\n  username: "my-cache-name",\n  password: process.env.MOMENTO_TOKEN,\n  tls: {}, // enables TLS\n});\n\nawait client.set("a", "b");\nconst value = await client.get("a");\nconsole.log(value);\n\nawait client.quit();\n'})})}),(0,i.jsx)(s.A,{value:"java-glide",label:"Java - Valkey",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import glide.api.GlideClient;\nimport glide.api.models.configuration.GlideClientConfiguration;\nimport glide.api.models.configuration.NodeAddress;\nimport glide.api.models.configuration.ServerCredentials;\n\nGlideClientConfiguration config =\n    GlideClientConfiguration.builder()\n        .address(NodeAddress.builder()\n            .host("cache.cell-4-us-west-2-1.prod.a.momentohq.com")\n            .port(6379)\n            .build())\n        .useTLS(true)\n        .credentials(ServerCredentials.builder()\n            .username("my-cache-name")\n            .password(System.getenv("MOMENTO_TOKEN"))\n            .build())\n        .build();\n\nGlideClient client = GlideClient.createClient(config).get();\nclient.set("a", "b").get();\nString value = client.get("a").get();\nSystem.out.println(value);\nclient.close();\n'})})}),(0,i.jsx)(s.A,{value:"java-redis",label:"Java - Redis",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import redis.clients.jedis.Jedis;\nimport redis.clients.jedis.JedisShardInfo;\n\nJedisShardInfo shard =\n    new JedisShardInfo("cache.cell-4-us-west-2-1.prod.a.momentohq.com", 6379, true);\nshard.setUser("my-cache-name");\nshard.setPassword(System.getenv("MOMENTO_TOKEN"));\n\ntry (Jedis client = new Jedis(shard)) {\n    client.set("a", "b");\n    String value = client.get("a");\n    System.out.println(value);\n}\n'})})})]}),"\n",(0,i.jsx)(n.h2,{id:"current-command-coverage",children:"Current command coverage"}),"\n",(0,i.jsxs)(n.p,{children:["Momento currently supports ",(0,i.jsx)(n.code,{children:"GET"})," and ",(0,i.jsx)(n.code,{children:"SET"})," with full Valkey/Redis semantics. Additional commands are actively being added. If your workload requires a specific RESP command, ",(0,i.jsx)(n.a,{href:"https://www.gomomento.com/contact-us",children:"let us know"})," what you need."]}),"\n",(0,i.jsx)(n.h2,{id:"why-teams-switch-to-momento-resp",children:"Why teams switch to Momento RESP"}),"\n",(0,i.jsx)(n.p,{children:"Momento RESP removes many of the operational risks associated with running Redis or Valkey clusters. The Momento gateway absorbs connection storms and smooths out sudden traffic bursts, preventing storage nodes from being overloaded. Cluster maintenance such as resharding, node replacements, and topology updates happens transparently behind the gateway, so clients continue issuing commands without configuration changes."}),"\n",(0,i.jsx)(n.p,{children:"Security is improved through short-lived, fine-grained Momento tokens instead of static Redis passwords or ACL files. Every command is authorized before it reaches storage, and in-cluster scripting features like Lua remain disabled to prevent runaway CPU or memory failures. Workloads that need high-concurrency mutations can run in muFunctions/MAX, ensuring compute-heavy operations stay isolated from the cache."}),"\n",(0,i.jsx)(n.p,{children:"Operational overhead is also removed. Patching, failover, scaling, monitoring, and SLO management are handled by Momento's control plane. Applications keep using their existing RESP clients and GET/SET semantics, while the underlying system provides the reliability and durability needed for mission-critical workloads."}),"\n",(0,i.jsx)(n.h2,{id:"common-scenarios",children:"Common scenarios"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Lift-and-shift existing Valkey/Redis applications without touching client code."}),"\n",(0,i.jsx)(n.li,{children:"Handle seasonal or promotional spikes by letting the Momento gateway absorb connection storms."}),"\n",(0,i.jsx)(n.li,{children:"Modernize gradually by keeping GET/SET semantics while offloading new logic to muFunctions/MAX."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If you can run ",(0,i.jsx)(n.code,{children:"valkey-cli"})," or ",(0,i.jsx)(n.code,{children:"redis-cli"}),", you can run Momento - keep your client code, gain enterprise-grade reliability."]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var i=t(34164);const a={tabItem:"tabItem_Ymn6"};var o=t(74848);function s(e){let{children:n,hidden:t,className:s}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(a.tabItem,s),hidden:t,children:n})}},11470:(e,n,t)=>{t.d(n,{A:()=>j});var i=t(96540),a=t(34164),o=t(23104),s=t(56347),r=t(205),l=t(57485),c=t(31682),d=t(70679);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:a}}=e;return{value:n,label:t,attributes:i,default:a}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const a=(0,s.W6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(o),(0,i.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(a.location.search);n.set(o,e),a.replace({...a.location,search:n.toString()})}),[o,a])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,o=h(e),[s,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:o}))),[c,u]=p({queryString:t,groupId:a}),[g,y]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,o]=(0,d.Dv)(t);return[a,(0,i.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:a}),f=(()=>{const e=c??g;return m({value:e,tabValues:o})?e:null})();(0,r.A)((()=>{f&&l(f)}),[f]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),y(e)}),[u,y,o]),tabValues:o}}var y=t(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(74848);function v(e){let{className:n,block:t,selectedValue:i,selectValue:s,tabValues:r}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),a=r[t].value;a!==i&&(c(n),s(a))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n),children:r.map((e=>{let{value:n,label:t,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>l.push(e),onKeyDown:u,onClick:d,...o,className:(0,a.A)("tabs__item",f.tabItem,o?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function w(e){let{lazy:n,children:t,selectedValue:o}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===o));return e?(0,i.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function x(e){const n=g(e);return(0,b.jsxs)("div",{className:(0,a.A)("tabs-container",f.tabList),children:[(0,b.jsx)(v,{...n,...e}),(0,b.jsx)(w,{...n,...e})]})}function j(e){const n=(0,y.A)();return(0,b.jsx)(x,{...e,children:u(e.children)},String(n))}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var i=t(96540);const a={},o=i.createContext(a);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);